v {xschem version=3.4.6RC file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {flipflop} 810 -330 0 0 0.4 0.4 {}
T {comparator} 590 -330 0 0 0.4 0.4 {}
N -670 -590 -670 -570 {
lab=GND}
N -670 -690 -670 -650 {p1
lab=p1}
N -360 -170 -360 -140 {
lab=GND}
N -460 -180 -460 -140 {
lab=VMID}
N -830 -290 -830 -260 {
lab=p1}
N -460 -180 -400 -180 {
lab=VMID}
N -310 -590 -310 -570 {
lab=GND}
N -310 -690 -310 -650 {p1
lab=p2}
N -850 -280 -850 -260 {
lab=GND}
N -760 -220 -720 -220 {
lab=#net1}
N -970 -220 -860 -220 {
lab=vi}
N -970 -220 -970 -160 {
lab=vi}
N -970 -100 -970 -80 {
lab=VMID}
N -530 -290 -530 -260 {
lab=p2}
N -550 -280 -550 -260 {
lab=GND}
N -600 -220 -560 -220 {
lab=#net2}
N -460 -220 -400 -220 {
lab=#net3}
N -360 -250 -360 -230 {
lab=vo1}
N -460 -310 -400 -310 {
lab=#net3}
N -460 -310 -460 -220 {
lab=#net3}
N -500 -220 -460 -220 {
lab=#net3}
N -340 -310 -280 -310 {
lab=vo1}
N -280 -310 -280 -250 {
lab=vo1}
N -360 -250 -280 -250 {
lab=vo1}
N -830 -110 -800 -110 {
lab=GND}
N -830 -110 -830 -80 {
lab=GND}
N -830 -130 -800 -130 {
lab=p2}
N -760 -220 -760 -160 {
lab=#net1}
N -800 -220 -760 -220 {
lab=#net1}
N -600 -100 -600 -80 {
lab=VMID}
N -670 -110 -640 -110 {
lab=GND}
N -670 -110 -670 -80 {
lab=GND}
N -670 -130 -640 -130 {
lab=p1}
N -600 -220 -600 -160 {
lab=#net2}
N -660 -220 -600 -220 {
lab=#net2}
N 630 -250 630 -230 {
lab=vcmp}
N 630 -200 630 -140 {
lab=GND}
N 80 -590 80 -570 {
lab=GND}
N 80 -690 80 -650 {p1
lab=VDD}
N 570 -590 570 -570 {
lab=GND}
N 630 -250 760 -250 {
lab=vcmp}
N 720 -270 760 -270 {
lab=p2}
N 720 -230 760 -230 {
lab=resb}
N 940 -270 1020 -270 {
lab=q}
N 170 -590 170 -570 {
lab=GND}
N 170 -690 170 -650 {p1
lab=VSS}
N 1020 -270 1020 70 {
lab=q}
N 320 -170 320 -140 {
lab=GND}
N 220 -180 220 -140 {
lab=VMID}
N -150 -290 -150 -260 {
lab=p2}
N 220 -180 280 -180 {
lab=VMID}
N -170 -280 -170 -260 {
lab=GND}
N -80 -220 -40 -220 {
lab=#net4}
N 150 -290 150 -260 {
lab=p1}
N 130 -280 130 -260 {
lab=GND}
N 80 -220 120 -220 {
lab=#net5}
N 220 -220 280 -220 {
lab=#net6}
N 320 -250 320 -230 {
lab=#net7}
N 220 -310 280 -310 {
lab=#net6}
N 220 -310 220 -220 {
lab=#net6}
N 180 -220 220 -220 {
lab=#net6}
N 340 -310 400 -310 {
lab=#net7}
N 400 -310 400 -250 {
lab=#net7}
N 320 -250 400 -250 {
lab=#net7}
N -150 -110 -120 -110 {
lab=GND}
N -150 -110 -150 -80 {
lab=GND}
N -150 -130 -120 -130 {
lab=p1}
N -80 -220 -80 -160 {
lab=#net4}
N -120 -220 -80 -220 {
lab=#net4}
N 80 -100 80 -80 {
lab=VMID}
N 10 -110 40 -110 {
lab=GND}
N 10 -110 10 -80 {
lab=GND}
N 10 -130 40 -130 {
lab=p2}
N 80 -220 80 -160 {
lab=#net5}
N 20 -220 80 -220 {
lab=#net5}
N -280 -250 -280 -220 {
lab=vo1}
N -280 -220 -180 -220 {
lab=vo1}
N 470 -320 470 -290 {
lab=p1}
N 450 -310 450 -290 {
lab=GND}
N 400 -250 440 -250 {
lab=#net7}
N 540 -150 540 -140 {
lab=GND}
N 500 -250 540 -250 {
lab=vo2}
N 540 -250 540 -210 {
lab=vo2}
N -340 70 -290 70 {
lab=p1}
N -340 110 -290 110 {
lab=resb}
N 260 -590 260 -570 {
lab=GND}
N 260 -690 260 -650 {p1
lab=VMID}
N -660 70 -520 70 {
lab=#net8}
N -700 10 -700 40 {
lab=#net9}
N -760 10 -700 10 {
lab=#net9}
N -760 -100 -760 10 {
lab=#net9}
N -820 10 -760 10 {
lab=#net9}
N -820 10 -820 100 {
lab=#net9}
N -780 130 -560 130 {
lab=#net10}
N -560 90 -560 130 {
lab=#net10}
N -560 90 -520 90 {
lab=#net10}
N -820 160 -820 200 {
lab=VL}
N -700 100 -700 200 {
lab=VH}
N -20 10 -20 40 {
lab=#net11}
N -80 10 -20 10 {
lab=#net11}
N -140 10 -140 100 {
lab=#net11}
N -140 160 -140 200 {
lab=VL}
N -20 100 -20 200 {
lab=VH}
N -80 -100 -80 10 {
lab=#net11}
N -140 10 -80 10 {
lab=#net11}
N 20 70 1020 70 {
lab=q}
N -100 130 1000 130 {
lab=qb}
N 1000 -250 1000 130 {
lab=qb}
N 940 -250 1000 -250 {
lab=qb}
N -340 90 -290 90 {
lab=q}
N 360 -590 360 -570 {
lab=GND}
N 360 -690 360 -650 {p1
lab=VL}
N 440 -590 440 -570 {
lab=GND}
N 440 -690 440 -650 {p1
lab=VH}
N -370 -470 -370 -440 {
lab=res}
N -390 -460 -390 -440 {
lab=GND}
N -460 -400 -400 -400 {
lab=#net3}
N -460 -400 -460 -310 {
lab=#net3}
N -340 -400 -280 -400 {
lab=vo1}
N -280 -400 -280 -310 {
lab=vo1}
N 310 -470 310 -440 {
lab=res}
N 290 -460 290 -440 {
lab=GND}
N 220 -400 280 -400 {
lab=#net6}
N 340 -400 400 -400 {
lab=#net7}
N 220 -400 220 -310 {
lab=#net6}
N 400 -400 400 -310 {
lab=#net7}
N 570 -700 650 -700 {
lab=resb}
N 570 -700 570 -650 {
lab=resb}
N 730 -700 820 -700 {
lab=res}
C {devices/code_shown.sym} 1090 80 0 0 {name=MODEL only_toplevel=true
format="tcleval( @value )"
value="
.lib $::SG13G2_MODELS/cornerMOSlv.lib mos_tt
.lib $::SG13G2_MODELS/cornerRES.lib res_typ
.inc /foss/pdks/sg13g2/libs.ref/sg13g2_stdcell/spice/sg13g2_stdcell.spice
"}
C {devices/code_shown.sym} 1090 -290 0 0 {name=NGSPICE only_toplevel=true 
value="
.param temp=27 vdd=1.2 per=1u
.model mysw SW vt=\{vdd/2\} ron=10k roff=1gig
.option method=gear reltol=1e-4

.control
save all 
tran 1n 65u
plot vo1 vo2 q
set wr_singlescale
set wr_vecnames
wrdata tb_ideal_idsm2_scaled.txt vo1 vo2 q p1 p2
.endc
"}
C {devices/gnd.sym} -670 -570 0 0 {name=l2 lab=GND}
C {devices/vsource.sym} -670 -620 0 0 {name=Vp1 value="dc 0 pulse(0, \{vdd\}, 5n, 100p, 100p, \{per/2-5n\}, \{per\}) "}
C {devices/title.sym} -10 290 0 0 {name=l5 author="Boris Murmann, edited by: Priyanka, Miko, Lars"}
C {devices/vcvs.sym} -360 -200 0 0 {name=E1 value=-1000}
C {devices/switch_ngspice.sym} -830 -220 1 0 {name=S1 model=mysw}
C {devices/lab_wire.sym} -670 -690 0 0 {name=p2 sig_type=std_logic lab=p1}
C {devices/gnd.sym} -360 -140 0 0 {name=l1 lab=GND}
C {devices/lab_pin.sym} -830 -290 1 0 {name=p3 sig_type=std_logic lab=p1}
C {devices/gnd.sym} -310 -570 0 0 {name=l3 lab=GND}
C {devices/vsource.sym} -310 -620 0 0 {name=Vp2 value="dc \{vdd\} pulse(\{vdd\}, 0, 0, 100p, 100p, \{per/2+5n\}, \{per\}) "}
C {devices/lab_wire.sym} -310 -690 0 0 {name=p1 sig_type=std_logic lab=p2}
C {devices/gnd.sym} -850 -280 2 0 {name=l6 lab=GND}
C {devices/vsource.sym} -970 -130 0 0 {name=Vin value="dc 7m"}
C {devices/lab_wire.sym} -910 -220 0 0 {name=p4 sig_type=std_logic lab=vi}
C {devices/capa.sym} -690 -220 3 0 {name=C1
m=1
value=1p
footprint=1206
device="ceramic capacitor"}
C {devices/switch_ngspice.sym} -530 -220 1 0 {name=S2 model=mysw}
C {devices/lab_pin.sym} -530 -290 1 0 {name=p5 sig_type=std_logic lab=p2}
C {devices/gnd.sym} -550 -280 2 0 {name=l9 lab=GND}
C {devices/capa.sym} -370 -310 3 0 {name=C2
m=1
value=2p
footprint=1206
device="ceramic capacitor"}
C {devices/switch_ngspice.sym} -760 -130 0 0 {name=S3 model=mysw}
C {devices/gnd.sym} -830 -80 0 0 {name=l11 lab=GND}
C {devices/lab_wire.sym} -830 -130 0 0 {name=p8 sig_type=std_logic lab=p2}
C {devices/switch_ngspice.sym} -600 -130 0 0 {name=S4 model=mysw}
C {devices/gnd.sym} -670 -80 0 0 {name=l12 lab=GND}
C {devices/lab_wire.sym} -670 -130 0 0 {name=p7 sig_type=std_logic lab=p1}
C {devices/gnd.sym} 630 -140 0 0 {name=l13 lab=GND}
C {devices/vsource.sym} 630 -200 0 0 {name=E2 value="TABLE \{V(vo2,0)\} = (599.9mV, 0V) (600.1mV, \{vdd\})"}
C {devices/lab_wire.sym} 690 -250 0 0 {name=p10 sig_type=std_logic lab=vcmp}
C {devices/gnd.sym} 80 -570 0 0 {name=l14 lab=GND}
C {devices/vsource.sym} 80 -620 0 0 {name=Vsup value="dc \{vdd\}"}
C {devices/vdd.sym} 80 -690 0 0 {name=l15 lab=VDD}
C {devices/gnd.sym} 570 -570 0 0 {name=l18 lab=GND}
C {devices/vsource.sym} 570 -620 0 0 {name=Vresb value="dc 0 pwl(0, 0, \{per/2\}, 0, \{per/2+100p\} \{vdd\}"}
C {devices/lab_wire.sym} 570 -690 0 0 {name=p12 sig_type=std_logic lab=resb}
C {sg13g2_stdcells/sg13g2_dfrbp_1.sym} 850 -250 0 0 {name=x1 VDD=VDD VSS=VSS prefix=sg13g2_ }
C {devices/lab_wire.sym} 720 -270 0 0 {name=p16 sig_type=std_logic lab=p2}
C {devices/lab_wire.sym} 720 -230 0 0 {name=p19 sig_type=std_logic lab=resb}
C {devices/gnd.sym} 170 -570 0 0 {name=l16 lab=GND}
C {devices/vsource.sym} 170 -620 0 0 {name=Vss value="dc 0"}
C {devices/vdd.sym} 170 -690 0 0 {name=l17 lab=VSS}
C {devices/vcvs.sym} 320 -200 0 0 {name=E4 value=-1000}
C {devices/switch_ngspice.sym} -150 -220 1 0 {name=S5 model=mysw}
C {devices/gnd.sym} 320 -140 0 0 {name=l19 lab=GND}
C {devices/lab_pin.sym} -150 -290 1 0 {name=p6 sig_type=std_logic lab=p2}
C {devices/gnd.sym} -170 -280 2 0 {name=l21 lab=GND}
C {devices/capa.sym} -10 -220 3 0 {name=C3
m=1
value=1p
footprint=1206
device="ceramic capacitor"}
C {devices/switch_ngspice.sym} 150 -220 1 0 {name=S6 model=mysw}
C {devices/lab_pin.sym} 150 -290 1 0 {name=p13 sig_type=std_logic lab=p1}
C {devices/gnd.sym} 130 -280 2 0 {name=l22 lab=GND}
C {devices/capa.sym} 310 -310 3 0 {name=C4
m=1
value=2p
footprint=1206
device="ceramic capacitor"}
C {devices/switch_ngspice.sym} -80 -130 0 0 {name=S7 model=mysw}
C {devices/gnd.sym} -150 -80 0 0 {name=l23 lab=GND}
C {devices/lab_wire.sym} -150 -130 0 0 {name=p14 sig_type=std_logic lab=p1}
C {devices/switch_ngspice.sym} 80 -130 0 0 {name=S8 model=mysw}
C {devices/gnd.sym} 10 -80 0 0 {name=l25 lab=GND}
C {devices/lab_wire.sym} 10 -130 0 0 {name=p15 sig_type=std_logic lab=p2}
C {devices/lab_wire.sym} -230 -220 0 0 {name=p18 sig_type=std_logic lab=vo1}
C {devices/switch_ngspice.sym} 470 -250 1 0 {name=S9 model=mysw}
C {devices/lab_pin.sym} 470 -320 1 0 {name=p20 sig_type=std_logic lab=p1}
C {devices/gnd.sym} 450 -310 2 0 {name=l26 lab=GND}
C {devices/capa.sym} 540 -180 0 0 {name=C5
m=1
value=1p
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 540 -140 0 0 {name=l27 lab=GND}
C {devices/lab_wire.sym} 540 -250 0 0 {name=p21 sig_type=std_logic lab=vo2}
C {sg13g2_stdcells/sg13g2_dfrbp_1.sym} -430 90 0 1 {name=x2 VDD=VDD VSS=VSS prefix=sg13g2_ }
C {devices/lab_wire.sym} -290 70 0 0 {name=p11 sig_type=std_logic lab=p1}
C {devices/lab_wire.sym} -290 110 0 0 {name=p22 sig_type=std_logic lab=resb}
C {devices/gnd.sym} 260 -570 0 0 {name=l29 lab=GND}
C {devices/vsource.sym} 260 -620 0 0 {name=Vmid value="dc \{vdd/2\}"}
C {devices/vdd.sym} 260 -690 0 0 {name=l30 lab=VMID}
C {devices/vdd.sym} -600 -80 2 0 {name=l31 lab=VMID}
C {devices/vdd.sym} -460 -140 2 0 {name=l4 lab=VMID}
C {devices/vdd.sym} 80 -80 2 0 {name=l8 lab=VMID}
C {devices/vdd.sym} 220 -140 2 0 {name=l10 lab=VMID}
C {devices/vdd.sym} -970 -80 2 0 {name=l20 lab=VMID}
C {devices/switch_ngspice.sym} -700 70 0 1 {name=S10 model=mysw}
C {devices/switch_ngspice.sym} -820 130 0 1 {name=S11 model=mysw}
C {devices/gnd.sym} -660 90 3 1 {name=l7 lab=GND}
C {devices/gnd.sym} -780 150 3 1 {name=l24 lab=GND}
C {devices/vdd.sym} -820 200 2 0 {name=l28 lab=VL}
C {devices/vdd.sym} -700 200 2 0 {name=l32 lab=VH}
C {devices/switch_ngspice.sym} -20 70 0 1 {name=S12 model=mysw}
C {devices/switch_ngspice.sym} -140 130 0 1 {name=S13 model=mysw}
C {devices/gnd.sym} 20 90 3 1 {name=l33 lab=GND}
C {devices/gnd.sym} -100 150 3 1 {name=l34 lab=GND}
C {devices/vdd.sym} -140 200 2 0 {name=l35 lab=VL}
C {devices/vdd.sym} -20 200 2 0 {name=l36 lab=VH}
C {devices/lab_wire.sym} 430 70 0 0 {name=p9 sig_type=std_logic lab=q}
C {devices/lab_wire.sym} 430 130 0 0 {name=p17 sig_type=std_logic lab=qb}
C {devices/lab_wire.sym} -290 90 0 0 {name=p23 sig_type=std_logic lab=q}
C {devices/gnd.sym} 360 -570 0 0 {name=l37 lab=GND}
C {devices/vsource.sym} 360 -620 0 0 {name=Vl value="dc 0.25"}
C {devices/vdd.sym} 360 -690 0 0 {name=l38 lab=VL}
C {devices/gnd.sym} 440 -570 0 0 {name=l39 lab=GND}
C {devices/vsource.sym} 440 -620 0 0 {name=Vh value="dc \{vdd-0.25\}"}
C {devices/vdd.sym} 440 -690 0 0 {name=l40 lab=VH}
C {devices/switch_ngspice.sym} -370 -400 1 0 {name=S14 model=mysw}
C {devices/lab_pin.sym} -370 -470 1 0 {name=p24 sig_type=std_logic lab=res}
C {devices/gnd.sym} -390 -460 2 0 {name=l41 lab=GND}
C {devices/switch_ngspice.sym} 310 -400 1 0 {name=S15 model=mysw}
C {devices/lab_pin.sym} 310 -470 1 0 {name=p25 sig_type=std_logic lab=res}
C {devices/gnd.sym} 290 -460 2 0 {name=l42 lab=GND}
C {sg13g2_stdcells/sg13g2_inv_1.sym} 690 -700 0 0 {name=x3 VDD=VDD VSS=VSS prefix=sg13g2_ }
C {devices/lab_wire.sym} 820 -700 0 0 {name=p26 sig_type=std_logic lab=res}
